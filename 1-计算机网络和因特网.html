<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>计算机网络和因特网</title>
	</head>
	<body>
		<div>
			<h3>网络核心</h3>
			<div>
				<h4>分组交换</h4>
				<br />
				<div>
					
					为了从源端系统向目的系统发送一个报文，将报文划分为较小的数据块，称之为分组。
					在源和目的之间，每个分组都通过通信链路和分组交换机（主要是路由器和链路层交换机）传送。
					<br />
					<br />
					存储转发：<br>
					多数分组交换机在链路的输入端使用存储转发传输机制。存储转发传输是指在交换机能够开始向输出链路传输该分组的第一个比特之前，
					必须接受到整个分组。<br />
					排队时延和分组丢失：<br>
					每台分组交换机有多条链路与之相连，对于每条相连的链路，该分组交换机具有一个输出缓存（也称输出队列），它用于存储路由器准备发往那条链路的分组。
					如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。因此除了存储转发时延外，
					分组还需要承受输出缓存的排队时延。这些时延是变化的，变化的程度是取决于网络的拥塞程度，因此，缓存的大小是有限的，一个到达的分组可能发现该缓存已经被其他提前到达的分组使用完了，
					在此情况下将出现分组丢失（丢包），到达的分组或已经排队的分组之一将被丢弃。<br>
					转发表和路由选择协议：<br>
					分组到达，路由器怎样决定他应当向哪条链路进行转发呢？<br>
					每个路由器都具有一个转发表，用于将目的地址(或目的地址的一部分)映射成输出链路。当某分组到达一台路由器时，路由器检查该地址，
					并用这个目的地址搜索其转发表，以发现适当的出链路，路由器则将分组导向该出链路。<br>
					电路交换：<br>
					
					<br>
					分组交换的主要流程：<br />
					在发送端，先把较长的报文划分成较短的、固定长度的数据段。 <br>
					每一个数据段前面添加上首部构成分组。<br>
					分组交换网以“分组”作为数据传输单元,依次把各分组发送到接收端。<br>
					每一个分组的首部都含有地址等控制信息。<br>
					分组交换网中的结点交换机根据收到的分组的首部中的地址信息，把分组转发到下一个结点交换机。<br>
					用这样的存储转发方式，最后分组就能到达最终目的地。<br>
					接收端收到分组后剥去首部还原成报文。<br>
					最后，在接收端把收到的数据恢复成为原来的报文。<br>
					
					
				</div>
				<h3>分组交换中的时延、丢包和吞吐量</h3>
				<br />
				<div>
					时延：<br>
					发送时延:发送数据时，数据帧从结点进入到传输媒体所需要的时间。也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。<br>
					发送时延 = 数据帧长度（b）/ 发送速率（b/s）
					<br>
					传播时延:电磁波在信道中需要传播一定的距离而花费的时间。信号发送速率和信号在信道上的传播速率是完全不同的概念。<br>
					传播时延 = 信道长度（米）/ 信号在信道上的传播速率（米/秒）
					<br />
					处理时延:交换结点为存储转发而进行一些必要的处理所花费的时间。<br /> 
					排队时延:结点缓存队列中分组排队所经历的时延。排队时延的长短往往取决于网络中当时的通信量。<br /> 
					数据经历的总时延就是发送时延、传播时延、处理时延和排队时延之和：<br>
					总时延 = 发送时延+传播时延+处理时延+处理时延<br>
					<br />
					吞吐量:<br>
					吞吐量(throughput)表示在单位时间内通过某个网络（或信道、接口）的数据量。吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。吞吐量受网络的带宽或网络的额定速率的限制。  <br>
				</div>
				<div>协议层次及其服务模型</div>
				<br />
				<div>
					“分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。 <br>
					五层协议的体系结构 ：应用层 、运输层、网络层、数据链路层、物理层。<br>
					<br />
					<h4>数据传输流程：</h4>
					应用AP1：应用进程数据先传送到应用层——><br>
					应用层：应用层收到AP1进程数据，加上应用层首部，成为应用层 PDU ——><br>
					运输层：应用层 PDU 再传送到运输层，加上运输层首部，成为运输层报文 ——><br>
					网络层：运输层报文再传送到网络层，加上网络层首部，成为 IP 数据报（或分组） ——><br>
					数据链路层：IP 数据报再传送到数据链路层，加上链路层首部和尾部，成为数据链路层帧 ——><br />
					物理层：数据链路层帧再传送到物理层，最下面的物理层把比特流传送到物理媒体 ——><br >
					电信号（或光信号）在物理媒体中传播，从发送端物理层传送到接收端物理层 ——><br>
					物理层：物理层接收到比特流，上交给数据链路层 ——><br >
					数据链路层：数据链路层剥去帧首部和帧尾部取出数据部分，上交给网络层 ——><br />
					网络层：网络层剥去首部，取出数据部分上交给运输层 ——><br>
					运输层：运输层剥去首部，取出数据部分上交给应用层 ——><br>
					应用层：应用层剥去首部，取出应用程序数据上交给应用进程 ——><br>
					应用AP2：收到了 AP1 发来的应用程序数据！<br>
				</div>
			</div>
		</div>
	</body>
</html>
